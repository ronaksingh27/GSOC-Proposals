# KV in Cloudflare-Workers
|Kv Store |Key				|Value        |Purpose 	      |
|-------------------|-------------|---------------|-|
|**URL_STORE**|`shortCode`  |`{"url" : "<longUrl>","email":"userEmail","expiresAt":<timestamp,null>`|	 stores shortUrl-longUrl mapping|
|**USER_DETAILS**|`userEmail`|`[{"shortCode":"<shortCode>","shortUrl":"<shortenedUrl>","longUrl":"<longUrl>"},...]`|stores all urls generated by user|
|**CLICKS**|`shortCode`|`10`|Stores the number of times a shortlink was clicked|
|**AUTH_TOKENS**|`token`|`{"email":"<userEmail>","expiresAt":"<timestamp>`|stores Authentication session(Magic Link Token)|


- When user creates a token  in **AUTH_TOKEN**  user details for a user in **USER_DETAILS** is also seeded with empty values for the except authToken
-  When a user creates a shortUrl :-
	- URL_STORE is updated with new shortCode
	- USER_DETAILS has new entry
	- click count for shortCode is initialized to 0